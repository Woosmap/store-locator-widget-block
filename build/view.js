(()=>{"use strict";var t={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},d:(e,o)=>{for(var i in o)t.o(o,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:o[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window.wp.domReady;var o=t.n(e);window.wp.data;class i{constructor(t){this.element=t,this.storeLocatorConfig={},this.webAppLib=t.ownerDocument.defaultView.WebApp,this.webAppLib&&this.element.dataset.apiKey&&this.init()}init(){this.createStoreLocatorWidget()}createStoreLocatorWidget(){const{latitude:t,longitude:e,zoom:o,themeColor:i,apiKey:r}=this.element.dataset;this.storeLocatorConfig={theme:{primary_color:i||"#000"},maps:{provider:"woosmap"},woosmapview:{initialCenter:{lat:Number(t)||48.967529,lng:Number(e)||2.368438},initialZoom:Number(o)||5},datasource:{max_responses:10,max_distance:5e4}},this.element.innerHTML="";const s=document.createElement("div");s.style="width:100%; height:100%",s.id="store-locator-widget-id",this.element.appendChild(s),this.storeLocatorWidget&&(this.storeLocatorWidget.isMobile=!1,this.storeLocatorWidget.confHandler.setInitConf(this.storeLocatorConfig)),this.storeLocatorWidget=new this.webAppLib(s.id,r),this.storeLocatorWidget.isMobile=!1,this.storeLocatorWidget.confHandler.setInitConf(this.storeLocatorConfig)}}o()((async()=>{const t=document.querySelector(".wp-block-woosmap-wp-store-locator-widget-block");t&&new i(t)}))})();